<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no, address=no, email=no">

    <link rel="shortcut icon" href="../resource/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="../resource/images/favicon.ico" type="image/x-icon">

    <title>:: Js Background url</title>

    <link rel="stylesheet" type="text/css" href="../resource/css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

</head>

<body>

    <h1 class="hide">JavaScript Background Image URL 받아오기</h1>
    <div id="wrap">
        <main id="main">
            <h2><span>Js Get Background URL</span></h2>
            <p class="content-text-c">
                JavaScript Background Image URL 받아오기
            </p>
            <p class="content-text">

            </p>
            <figure class="content-img">
                <img src="" alt="">
                <figcaption>▲ 형식</figcaption>
            </figure>
            <ul class="content-box bg-copy-box">
                <li class="bg-copy-unit">
                    <button type="button" class="ex-btn bg-copy-btn">copy btn</button>
                </li>
                <li class="bg-copy-unit">
                    <button type="button" class="ex-btn bg-copy-btn">copy btn</button>
                </li>
                <li class="bg-copy-unit">
                    <button type="button" class="ex-btn bg-copy-btn">copy btn</button>
                </li>
                <li class="bg-copy-unit">
                    <button type="button" class="ex-btn bg-copy-btn">copy btn</button>
                </li>
            </ul>
            <div class="content-box bg-copy-box flex-clear">
                <span class="bg-copy-place"></span>
                <p class="bg-copy-text"></p>
            </div>
        </main>
    </div>
    <script type="text/javascript">
        (function(a){
            let $el = {
                url : a.querySelectorAll('.bg-copy-unit'),
                btn : a.querySelectorAll('.bg-copy-btn'),
            };

            [].forEach.call( $el.btn, ( el ) => {
                el.addEventListener( 'click' , ( e ) => {
                    let $p = (e.target).parentElement,
                    $styleL = getComputedStyle($p),
                    $bg01 = $styleL.backgroundImage,
                    $bg02 = $bg01.replace(/^url\(['"](.+)['"]\)/, '$1');

                    let $bgBox = a.querySelector('.bg-copy-place');
                    let $bgText = a.querySelector('.bg-copy-text');
                    $bgBox.style.backgroundImage = `url('${$bg02}')`;
                    $bgText.innerHTML = `${$bg02}`;
                });
            });
        })(document);
    </script>
    
</body>
</html>